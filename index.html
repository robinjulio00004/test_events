<!doctype html>
<!--eventos en modelos 3D en CNC-->
<html lang="en-US">
	<head>
	<meta charset="utf-8"/> 
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="apple-mobile-web-app-capable" content="yes">
    	<script src="aframe-v1.6.0.min.js"></script>
    	<script src="aframe-ar.js"></script>
		<script src="animation-mixer.js"></script>
		<script src="aframe-extras.js"></script>
		<!--<script src="https://unpkg.com/aframe-animation-component@^4.1.2/dist/aframe-animation-component.min.js"></script>-->
		<!--<link rel="stylesheet" href="styles.css">-->
	</head>
<body style="margin : 0px; overflow: hidden;">		 
	<!-- Scene -->
	<a-scene arjs embedded renderer="logarithmicDepthBuffer: true;" xr-mode-ui="enabled: true">
	<!-- Asset Management -->	
	<a-assets>
    <a-asset-item id="modelo3d" src="puerta_sc.glb"></a-asset-item>
  	</a-assets>
		
	<a-entity id="modelo1" gltf-model="#modelo3d" position="0 0 0" rotation="90 0 90" scale="0.5 0.5 0.5"
		animation-mixer="clip: *;timeScale:0;" //"clip: Anim; timeScale:0;">
	</a-entity>
		
	<a-box id="boton1" position="0.5 0 0" scale="0.5 0.5 0.1" color="red">
	<a-text value="BotÃ³n Play" align="center" position="0 0 0.1" color="white"></a-text>
	</a-box>
	    <!--<a-box cursor-listener position="-0.5 0 0">
      <a-entity animation="property: position; to: 0 2 -5; dur: 2000; easing: easeInOutQuad"></a-entity>
    </a-box>-->

	    <!--<a-plane position="0 1 -3" width="1" height="0.5" color="blue">
        <a-text value="Click Me!" align="center" position="0 0 0.01" color="white"></a-text>
    </a-plane>-->
		
	<!-- Camera -->
	    <a-entity id="cameraview" position="0 0 6" rotation="0 0 90"><!--look-controls-enabled="false"-->
		<a-camera id="mcamera" rotation="0 0 0">
  		<a-entity cursor="fuse: true; fuseTimeout: 500"
            	position="0 0 -3"
            	geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.03"
           	material="color: green; shader: flat"></a-entity>
		</a-camera>
		</a-entity>
		</a-entity>
		
	</a-scene>
</body>
	<script>
		let modelo3d= document.getElementById("modelo1");
		let boton_play= document.getElementById("boton1");
		
		    boton_play.addEventListener('click', function() {
			modelo3d.setAttribute('animation-mixer','clip: Anim; timeScale: 0.1;');
			//setTimeout(()=>{modelo3d.setAttribute('animation-mixer','timeScale: 0;'); },1000);/*retardo de 1000ms*/
    });

		/*AFRAME.registerComponent('cursor-listener', {
  init: function () {
    var lastIndex = -1;
    var COLORS = ['red', 'green', 'blue'];
    this.el.addEventListener('click', function (evt) {
      lastIndex = (lastIndex + 1) % COLORS.length;
      this.setAttribute('material', 'color', COLORS[lastIndex]);
      console.log('I was clicked at: ', evt.detail.intersection.point);
    });
  }
});*/
	</script>
</html>






























